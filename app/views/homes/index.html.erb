<!-- <div> -->
  <%#= image_tag("louvre/paris_louvre_000022.jpg", :alt => "louvre", id: 'image') %>
<!-- </div> -->

<!-- <button id='crop-btn' class='btn btn-primary'>Crop & Search</button> -->

<% @homes.each do |home| %>
  <h3><%= home.cate %></h3>
  <%= link_to(image_tag("#{home.cate}/#{home.images.first.name}", :alt => "", id: 'home-image', class: 'cover-img'), home_path(home.id)) %>
<% end %>

<script type="text/javascript">
  $(function() {
    var $image = $('#image');

    $image.cropper({
      // aspectRatio: 16 / 9,
      // crop: function(event) {
      //   console.log(event.detail.x);
      //   console.log(event.detail.y);
      //   console.log(event.detail.width);
      //   console.log(event.detail.height);
      //   console.log(event.detail.rotate);
      //   console.log(event.detail.scaleX);
      //   console.log(event.detail.scaleY);
      // }
    });

     // Get the Cropper.js instance after initialized
    $('#crop-btn').click(function(event) {
      var cropper = $image.data('cropper');
      var data = cropper.getData();

      // image crop data
      params = {'x': data.x, 'y': data.y, 'width': data.width, 'height': data.height};

      console.log(params);
    });
  });
</script>
